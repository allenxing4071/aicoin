# æƒé™ç­‰çº§ç®¡ç†ç³»ç»Ÿ

> **ç‰ˆæœ¬**: v2.0  
> **æ›´æ–°æ—¶é—´**: 2025-11-03  
> **çŠ¶æ€**: âœ… å·²å®ç°

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æƒé™ç­‰çº§å®šä¹‰](#æƒé™ç­‰çº§å®šä¹‰)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [APIæ¥å£](#apiæ¥å£)
- [å‰ç«¯ç•Œé¢](#å‰ç«¯ç•Œé¢)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [FAQ](#faq)

---

## æ¦‚è¿°

### ä»€ä¹ˆæ˜¯æƒé™ç­‰çº§ç®¡ç†ç³»ç»Ÿï¼Ÿ

æƒé™ç­‰çº§ç®¡ç†ç³»ç»Ÿæ˜¯AIcoinäº¤æ˜“ç³»ç»Ÿçš„æ ¸å¿ƒé£æ§æ¨¡å—ï¼Œé€šè¿‡åŠ¨æ€çš„æƒé™åˆ†çº§æœºåˆ¶ï¼Œæ ¹æ®AIçš„å†å²è¡¨ç°è‡ªåŠ¨è°ƒæ•´äº¤æ˜“æƒé™ã€‚ç³»ç»Ÿæ”¯æŒåå°å¯è§†åŒ–é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»£ç å³å¯è°ƒæ•´æƒé™å‚æ•°ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **åŠ¨æ€æƒé™ç®¡ç†** - L0-L5å…­ä¸ªç­‰çº§ï¼Œæ ¹æ®è¡¨ç°è‡ªåŠ¨å‡é™
- âœ… **åå°å¯é…ç½®** - æ‰€æœ‰å‚æ•°å¯é€šè¿‡ç®¡ç†ç•Œé¢å®æ—¶è°ƒæ•´
- âœ… **æ•°æ®é©±åŠ¨** - åŸºäºå†å²äº¤æ˜“æ•°æ®è¯„ä¼°æƒé™ç­‰çº§
- âœ… **å®‰å…¨å¯é ** - å¤šå±‚å®¹é”™æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ
- âœ… **æ˜“äºæ‰©å±•** - æ”¯æŒè‡ªå®šä¹‰ç­‰çº§å’Œæ¡ä»¶

### è®¾è®¡ç›®æ ‡

1. **é£é™©æ§åˆ¶** - é™åˆ¶AIåˆæœŸçš„äº¤æ˜“æƒé™ï¼Œé™ä½çˆ†ä»“é£é™©
2. **æ¿€åŠ±æœºåˆ¶** - è¡¨ç°å¥½å¯å‡çº§è·å¾—æ›´å¤šæƒé™
3. **è‡ªåŠ¨é™çº§** - è¡¨ç°å·®è‡ªåŠ¨é™çº§ï¼Œä¿æŠ¤èµ„é‡‘å®‰å…¨
4. **çµæ´»é…ç½®** - äº§å“ç»ç†å¯æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ç­–ç•¥

---

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æƒé™ç­‰çº§ç®¡ç†ç³»ç»Ÿ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å‰ç«¯ç®¡ç†ç•Œé¢ â”‚ â”€â”€â”€â”€â–¶â”‚  åå° API    â”‚â”€â”€â”€â”€â–¶â”‚  æ•°æ®åº“    â”‚ â”‚
â”‚  â”‚  (Next.js)   â”‚      â”‚  (FastAPI)   â”‚     â”‚(PostgreSQL)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                      â”‚                    â”‚        â”‚
â”‚         â”‚                      â–¼                    â”‚        â”‚
â”‚         â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚        â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ PermissionManagerâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                     â”‚   (æƒé™ç®¡ç†å™¨)    â”‚                    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                              â”‚                               â”‚
â”‚                              â–¼                               â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                     â”‚  DecisionEngine  â”‚                    â”‚
â”‚                     â”‚    (å†³ç­–å¼•æ“)     â”‚                    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                              â”‚                               â”‚
â”‚                              â–¼                               â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                     â”‚  Trading Service â”‚                    â”‚
â”‚                     â”‚    (äº¤æ˜“æ‰§è¡Œ)     â”‚                    â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘

1. **é…ç½®ç®¡ç†æµç¨‹**:
   ```
   äº§å“ç»ç† â†’ å‰ç«¯ç•Œé¢ â†’ API â†’ æ•°æ®åº“ â†’ ç¼“å­˜åˆ·æ–°
   ```

2. **æƒé™è¯„ä¼°æµç¨‹**:
   ```
   äº¤æ˜“æ•°æ® â†’ PermissionManager â†’ è¯„ä¼°æ¡ä»¶ â†’ å‡é™çº§å†³ç­–
   ```

3. **æƒé™åº”ç”¨æµç¨‹**:
   ```
   AIå†³ç­– â†’ è¯»å–æƒé™é…ç½® â†’ åº”ç”¨çº¦æŸ â†’ æ‰§è¡Œäº¤æ˜“
   ```

---

## æƒé™ç­‰çº§å®šä¹‰

### L0 - ä¿æŠ¤æ¨¡å¼ ğŸ›¡ï¸

**è§¦å‘æ¡ä»¶**: è¿åé£æ§çº¢çº¿

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 0% | ç¦æ­¢å¼€ä»“ |
| æœ€å¤§æ æ† | 1x | æ— æ æ† |
| ç½®ä¿¡åº¦é—¨æ§› | 100% | å®é™…ä¸Šç¦æ­¢äº¤æ˜“ |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 0ç¬” | å®Œå…¨ç¦æ­¢ |

**ç‰¹ç‚¹**:
- ğŸš« æ‰€æœ‰äº¤æ˜“åŠŸèƒ½è¢«ç¦ç”¨
- ğŸ”’ éœ€è¦äººå·¥å®¡æ ¸æ‰èƒ½æ¢å¤
- âš ï¸ ç”¨äºä¿æŠ¤æ¨¡å¼ï¼Œé˜²æ­¢è¿›ä¸€æ­¥äºæŸ

**æ¢å¤æ–¹å¼**:
- äººå·¥å®¡æ ¸è´¦æˆ·çŠ¶æ€
- åˆ†æè§¦å‘åŸå› 
- ä¿®å¤é—®é¢˜åæ‰‹åŠ¨å‡çº§åˆ°L1

---

### L1 - æ–°æ‰‹çº§ ğŸŒ±

**åˆå§‹ç­‰çº§**: æ‰€æœ‰AIå¯åŠ¨æ—¶çš„é»˜è®¤ç­‰çº§

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 10% | å•ç¬”æœ€å¤šç”¨10%èµ„é‡‘ |
| æœ€å¤§æ æ† | 2x | æœ€é«˜2å€æ æ† |
| ç½®ä¿¡åº¦é—¨æ§› | 50% | æ¿€è¿›æ¨¡å¼ï¼ˆå¿«é€Ÿç§¯ç´¯ç»éªŒï¼‰ |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 10ç¬” | å…è®¸é¢‘ç¹è¯•é”™ |

**å‡çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ â‰¥ 55%
- æœ€å°‘äº¤æ˜“ 5 ç¬”
- è¿è¡Œå¤©æ•° â‰¥ 3 å¤©

**é™çº§æ¡ä»¶**:
- æœ€å¤§å›æ’¤ > 10%
- è¿ç»­äºæŸ > 3 æ¬¡

**ç‰¹ç‚¹**:
- âœ… å…è®¸äº¤æ˜“ä½†ä¸¥æ ¼é™åˆ¶
- âœ… æ¿€è¿›é…ç½®å¿«é€Ÿç§¯ç´¯ç»éªŒ
- âœ… é€‚åˆèµ„é‡‘é‡å°çš„è´¦æˆ·ï¼ˆ$50ä»¥ä¸‹ï¼‰

---

### L2 - æˆé•¿çº§ ğŸ“ˆ

**è¡¨ç°è‰¯å¥½åçš„ç¬¬ä¸€æ¬¡å‡çº§**

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 12% | ç•¥å¾®æ”¾å®½ |
| æœ€å¤§æ æ† | 2x | ä¿æŒè°¨æ… |
| ç½®ä¿¡åº¦é—¨æ§› | 75% | æé«˜è¦æ±‚ï¼Œå‡å°‘äº¤æ˜“é¢‘ç‡ |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 2ç¬” | æ§åˆ¶é¢‘ç‡ï¼Œæé«˜è´¨é‡ |

**å‡çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ â‰¥ 60%
- 30æ—¥èƒœç‡ â‰¥ 55%
- å¤æ™®æ¯”ç‡ â‰¥ 1.0
- æœ€å°‘äº¤æ˜“ 10 ç¬”

**é™çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ < 45%
- è¿ç»­äºæŸ > 4 æ¬¡

**ç‰¹ç‚¹**:
- âœ… æ›´é«˜çš„ç½®ä¿¡åº¦è¦æ±‚
- âœ… å‡å°‘äº¤æ˜“é¢‘ç‡
- âœ… æ³¨é‡è´¨é‡è€Œéæ•°é‡

---

### L3 - ç¨³å®šçº§ âš–ï¸

**ç¨³å®šç›ˆåˆ©é˜¶æ®µ**

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 15% | è¿›ä¸€æ­¥æ”¾å®½ |
| æœ€å¤§æ æ† | 3x | å…è®¸é€‚åº¦æ æ† |
| ç½®ä¿¡åº¦é—¨æ§› | 70% | ç•¥å¾®é™ä½ï¼Œå¢åŠ æœºä¼š |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 4ç¬” | å¹³è¡¡é¢‘ç‡ä¸è´¨é‡ |

**å‡çº§æ¡ä»¶**:
- 30æ—¥èƒœç‡ â‰¥ 60%
- å¤æ™®æ¯”ç‡ â‰¥ 1.5
- æœ€å°‘äº¤æ˜“ 20 ç¬”

**é™çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ < 40%
- æœ€å¤§å›æ’¤ > 15%

**ç‰¹ç‚¹**:
- âœ… ç¨³å®šç›ˆåˆ©èƒ½åŠ›
- âœ… è¾ƒé«˜çš„é£é™©å®¹å¿åº¦
- âœ… é€‚åˆä¸­ç­‰èµ„é‡‘è´¦æˆ·ï¼ˆ$200-$1000ï¼‰

---

### L4 - ç†Ÿç»ƒçº§ ğŸ¯

**ç»éªŒä¸°å¯Œçš„AI**

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 20% | è¾ƒé«˜è‡ªç”±åº¦ |
| æœ€å¤§æ æ† | 4x | å…è®¸è¾ƒé«˜æ æ† |
| ç½®ä¿¡åº¦é—¨æ§› | 65% | æ›´å¤šäº¤æ˜“æœºä¼š |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 6ç¬” | è¾ƒé«˜é¢‘ç‡ |

**å‡çº§æ¡ä»¶**:
- 30æ—¥èƒœç‡ â‰¥ 65%
- å¤æ™®æ¯”ç‡ â‰¥ 2.0
- æœ€å°‘äº¤æ˜“ 50 ç¬”

**é™çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ < 35%

**ç‰¹ç‚¹**:
- âœ… é«˜åº¦ä¿¡ä»»AIèƒ½åŠ›
- âœ… å…è®¸æ›´æ¿€è¿›çš„ç­–ç•¥
- âœ… é€‚åˆå¤§èµ„é‡‘è´¦æˆ·ï¼ˆ$1000+ï¼‰

---

### L5 - ä¸“å®¶çº§ ğŸ†

**æœ€é«˜ç­‰çº§**

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| æœ€å¤§ä»“ä½ | 25% | æœ€é«˜é™é¢ |
| æœ€å¤§æ æ† | 5x | ç³»ç»Ÿæœ€å¤§æ æ† |
| ç½®ä¿¡åº¦é—¨æ§› | 60% | æœ€ä½è¦æ±‚ |
| æ¯æ—¥äº¤æ˜“é™åˆ¶ | 999ç¬” | å‡ ä¹æ— é™åˆ¶ |

**å‡çº§æ¡ä»¶**:
- æŒç»­ä¼˜ç§€è¡¨ç°
- é€šè¿‡æ‰€æœ‰å†å²è€ƒéªŒ

**é™çº§æ¡ä»¶**:
- 7æ—¥èƒœç‡ < 30%
- æœ€å¤§å›æ’¤ > 20%

**ç‰¹ç‚¹**:
- âœ… å‡ ä¹å®Œå…¨çš„è‡ªç”±åº¦
- âœ… ä»…ä¿ç•™æœ€åŸºæœ¬çš„é£æ§
- âœ… éœ€è¦é•¿æœŸä¼˜ç§€è¡¨ç°

---

## æ•°æ®åº“è®¾è®¡

### è¡¨ç»“æ„: `permission_level_configs`

```sql
CREATE TABLE permission_level_configs (
    id SERIAL PRIMARY KEY,
    
    -- åŸºæœ¬ä¿¡æ¯
    level VARCHAR(10) UNIQUE NOT NULL,           -- L0-L5
    name VARCHAR(50) NOT NULL,                   -- ç­‰çº§åç§°
    description TEXT,                            -- æè¿°
    
    -- äº¤æ˜“å‚æ•°
    max_position_pct FLOAT NOT NULL DEFAULT 0.10,    -- æœ€å¤§ä»“ä½æ¯”ä¾‹
    max_leverage INTEGER NOT NULL DEFAULT 2,         -- æœ€å¤§æ æ†
    confidence_threshold FLOAT NOT NULL DEFAULT 0.70, -- ç½®ä¿¡åº¦é—¨æ§›
    max_daily_trades INTEGER NOT NULL DEFAULT 5,     -- æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°
    
    -- å‡çº§æ¡ä»¶
    upgrade_win_rate_7d FLOAT,                   -- 7æ—¥èƒœç‡è¦æ±‚
    upgrade_win_rate_30d FLOAT,                  -- 30æ—¥èƒœç‡è¦æ±‚
    upgrade_sharpe_ratio FLOAT,                  -- å¤æ™®æ¯”ç‡è¦æ±‚
    upgrade_min_trades INTEGER,                  -- æœ€å°‘äº¤æ˜“æ¬¡æ•°
    upgrade_min_days INTEGER,                    -- æœ€å°‘è¿è¡Œå¤©æ•°
    
    -- é™çº§æ¡ä»¶
    downgrade_max_drawdown FLOAT,               -- æœ€å¤§å›æ’¤è§¦å‘é™çº§
    downgrade_consecutive_losses INTEGER,        -- è¿ç»­äºæŸæ¬¡æ•°
    downgrade_win_rate_7d FLOAT,                -- 7æ—¥èƒœç‡ä½äºæ­¤å€¼é™çº§
    
    -- çŠ¶æ€
    is_active BOOLEAN NOT NULL DEFAULT true,     -- æ˜¯å¦å¯ç”¨
    is_default BOOLEAN NOT NULL DEFAULT false,   -- æ˜¯å¦ä¸ºé»˜è®¤ç­‰çº§
    
    -- æ—¶é—´æˆ³
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_permission_level ON permission_level_configs(level);
CREATE INDEX idx_is_default ON permission_level_configs(is_default);
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `level` | string | ç­‰çº§ä»£ç  | "L1", "L2" |
| `name` | string | ç­‰çº§åç§° | "æ–°æ‰‹çº§" |
| `max_position_pct` | float | å•ä»“ä½æœ€å¤§å æ¯” (0-1) | 0.10 = 10% |
| `max_leverage` | int | æœ€å¤§æ æ†å€æ•° | 2 = 2x |
| `confidence_threshold` | float | ç½®ä¿¡åº¦é—¨æ§› (0-1) | 0.70 = 70% |
| `max_daily_trades` | int | æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•° | 5 |
| `is_default` | bool | æ˜¯å¦ä¸ºç³»ç»Ÿé»˜è®¤ç­‰çº§ | true/false |

---

## APIæ¥å£

### åŸºç¡€URL

```
http://localhost:8000/api/v1/admin/permissions
```

### 1. è·å–æ‰€æœ‰æƒé™ç­‰çº§

**è¯·æ±‚**:
```http
GET /api/v1/admin/permissions/levels
```

**å“åº”**:
```json
[
  {
    "id": 1,
    "level": "L1",
    "name": "æ–°æ‰‹çº§",
    "description": "åˆå§‹ç­‰çº§ï¼Œä¸¥æ ¼é™åˆ¶ä»“ä½å’Œæ æ†",
    "trading_params": {
      "max_position_pct": 0.10,
      "max_leverage": 2,
      "confidence_threshold": 0.50,
      "max_daily_trades": 10
    },
    "upgrade_conditions": {
      "win_rate_7d": 0.55,
      "min_trades": 5,
      "min_days": 3
    },
    "downgrade_conditions": {
      "max_drawdown": 0.10,
      "consecutive_losses": 3
    },
    "is_active": true,
    "is_default": true,
    "created_at": "2025-11-03T10:00:00",
    "updated_at": "2025-11-03T10:00:00"
  }
]
```

---

### 2. è·å–å•ä¸ªæƒé™ç­‰çº§

**è¯·æ±‚**:
```http
GET /api/v1/admin/permissions/levels/{level}
```

**è·¯å¾„å‚æ•°**:
- `level`: ç­‰çº§ä»£ç  (L0-L5)

**ç¤ºä¾‹**:
```bash
curl http://localhost:8000/api/v1/admin/permissions/levels/L1
```

---

### 3. æ›´æ–°æƒé™ç­‰çº§

**è¯·æ±‚**:
```http
PUT /api/v1/admin/permissions/levels/{level}
Content-Type: application/json

{
  "name": "æ–°æ‰‹çº§ï¼ˆè°ƒæ•´åï¼‰",
  "trading_params": {
    "max_position_pct": 0.12,
    "max_leverage": 2,
    "confidence_threshold": 0.60,
    "max_daily_trades": 8
  }
}
```

**å“åº”**:
```json
{
  "id": 1,
  "level": "L1",
  "name": "æ–°æ‰‹çº§ï¼ˆè°ƒæ•´åï¼‰",
  ...
}
```

---

### 4. è®¾ç½®é»˜è®¤ç­‰çº§

**è¯·æ±‚**:
```http
POST /api/v1/admin/permissions/levels/{level}/set-default
```

**è¯´æ˜**: 
- å°†æŒ‡å®šç­‰çº§è®¾ä¸ºç³»ç»Ÿé»˜è®¤ç­‰çº§
- å…¶ä»–ç­‰çº§çš„ `is_default` ä¼šè‡ªåŠ¨è®¾ä¸º `false`

---

### 5. åˆå§‹åŒ–é»˜è®¤é…ç½®

**è¯·æ±‚**:
```http
POST /api/v1/admin/permissions/levels/init-defaults
```

**å“åº”**:
```json
{
  "message": "Successfully initialized 6 default permission levels",
  "created_count": 6
}
```

**è¯´æ˜**:
- åˆ›å»ºL0-L5å…­ä¸ªé»˜è®¤ç­‰çº§
- å¦‚æœå·²å­˜åœ¨åˆ™è·³è¿‡
- å¹‚ç­‰æ“ä½œï¼Œå¯é‡å¤è°ƒç”¨

---

### 6. åˆ é™¤æƒé™ç­‰çº§

**è¯·æ±‚**:
```http
DELETE /api/v1/admin/permissions/levels/{level}
```

**å“åº”**: HTTP 204 No Content

**æ³¨æ„**: 
- è°¨æ…åˆ é™¤ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿè¿è¡Œ
- å»ºè®®ä½¿ç”¨ `is_active=false` ç¦ç”¨è€Œéåˆ é™¤

---

## å‰ç«¯ç•Œé¢

### è®¿é—®åœ°å€

```
http://localhost:3000/admin/permissions
```

### åŠŸèƒ½æˆªå›¾

#### 1. æƒé™ç­‰çº§åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒé™ç­‰çº§é…ç½®ç®¡ç†                    [åˆå§‹åŒ–é»˜è®¤é…ç½®]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ğŸŸ¢ L1  æ–°æ‰‹çº§                               [è®¾ä¸ºé»˜è®¤][ç¼–è¾‘]â”‚
â”‚  â””â”€ åˆå§‹ç­‰çº§ï¼Œä¸¥æ ¼é™åˆ¶ä»“ä½å’Œæ æ†                           â”‚
â”‚                                                            â”‚
â”‚  æœ€å¤§ä»“ä½: 10%  æœ€å¤§æ æ†: 2x  ç½®ä¿¡åº¦: 50%  æ—¥äº¤æ˜“: 10ç¬”    â”‚
â”‚                                                            â”‚
â”‚  ğŸ”¼ å‡çº§æ¡ä»¶                  ğŸ”½ é™çº§æ¡ä»¶                  â”‚
â”‚  â€¢ 7æ—¥èƒœç‡ â‰¥ 55%              â€¢ æœ€å¤§å›æ’¤ > 10%            â”‚
â”‚  â€¢ æœ€å°‘äº¤æ˜“ 5 ç¬”              â€¢ è¿ç»­äºæŸ > 3 æ¬¡           â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”µ L2  æˆé•¿çº§                               [è®¾ä¸ºé»˜è®¤][ç¼–è¾‘]â”‚
â”‚  ...                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ç¼–è¾‘æ¨¡æ€æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼–è¾‘æƒé™ç­‰çº§: L1                [X]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ç­‰çº§åç§°: [æ–°æ‰‹çº§____________________]     â”‚
â”‚                                              â”‚
â”‚  æè¿°:                                       â”‚
â”‚  [åˆå§‹ç­‰çº§ï¼Œä¸¥æ ¼é™åˆ¶ä»“ä½å’Œæ æ†____________] â”‚
â”‚                                              â”‚
â”‚  â”â”â” äº¤æ˜“å‚æ•° â”â”â”                           â”‚
â”‚                                              â”‚
â”‚  æœ€å¤§ä»“ä½(%): [10___]  æœ€å¤§æ æ†: [2___]    â”‚
â”‚  ç½®ä¿¡åº¦(%):   [50___]  æ—¥äº¤æ˜“:   [10__]    â”‚
â”‚                                              â”‚
â”‚  â˜‘ å¯ç”¨æ­¤ç­‰çº§                               â”‚
â”‚                                              â”‚
â”‚  [ä¿å­˜]  [å–æ¶ˆ]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ“ä½œæŒ‡å—

#### ç¼–è¾‘æƒé™ç­‰çº§
1. ç‚¹å‡»ç­‰çº§å¡ç‰‡å³ä¸Šè§’çš„"ç¼–è¾‘"æŒ‰é’®
2. ä¿®æ”¹äº¤æ˜“å‚æ•°
3. ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
4. ç³»ç»Ÿä¼šåœ¨5åˆ†é’Ÿå†…ç”Ÿæ•ˆï¼ˆç¼“å­˜åˆ·æ–°ï¼‰

#### è®¾ç½®é»˜è®¤ç­‰çº§
1. ç‚¹å‡»ç­‰çº§å¡ç‰‡çš„"è®¾ä¸ºé»˜è®¤"æŒ‰é’®
2. ç¡®è®¤æ“ä½œ
3. æ–°çš„AIå®ä¾‹å°†ä½¿ç”¨æ­¤ç­‰çº§å¯åŠ¨

#### åˆå§‹åŒ–é»˜è®¤é…ç½®
1. ç‚¹å‡»é¡µé¢å³ä¸Šè§’"åˆå§‹åŒ–é»˜è®¤é…ç½®"æŒ‰é’®
2. ç¡®è®¤æ“ä½œ
3. ç³»ç»Ÿä¼šåˆ›å»ºL0-L5çš„æ ‡å‡†é…ç½®

---

## ä½¿ç”¨æŒ‡å—

### åˆæ¬¡éƒ¨ç½²

#### æ­¥éª¤1: è¿è¡Œæ•°æ®åº“è¿ç§»

```bash
cd backend
alembic upgrade head
```

è¿™å°†åˆ›å»º `permission_level_configs` è¡¨å¹¶æ’å…¥é»˜è®¤æ•°æ®ã€‚

#### æ­¥éª¤2: éªŒè¯é…ç½®

```bash
# æ£€æŸ¥æ•°æ®åº“
psql -U admin -d aicoin -c "SELECT level, name, is_default FROM permission_level_configs;"

# æˆ–é€šè¿‡API
curl http://localhost:8000/api/v1/admin/permissions/levels
```

#### æ­¥éª¤3: è®¿é—®ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®:
```
http://localhost:3000/admin/permissions
```

---

### æ—¥å¸¸ç®¡ç†

#### è°ƒæ•´L1å‚æ•°ï¼ˆæ¨èï¼‰

æ ¹æ®å®é™…è¡¨ç°è°ƒæ•´L1çš„å‚æ•°ï¼š

**åœºæ™¯A: AIè¡¨ç°å¤ªä¿å®ˆï¼Œå¾ˆå°‘äº¤æ˜“**
```json
{
  "trading_params": {
    "confidence_threshold": 0.45,  // é™ä½åˆ°45%
    "max_daily_trades": 15         // å¢åŠ åˆ°15ç¬”
  }
}
```

**åœºæ™¯B: AIäºæŸè¿‡å¤šï¼Œéœ€è¦æ›´ä¸¥æ ¼**
```json
{
  "trading_params": {
    "confidence_threshold": 0.70,  // æé«˜åˆ°70%
    "max_daily_trades": 5,         // å‡å°‘åˆ°5ç¬”
    "max_position_pct": 0.05       // é™ä½åˆ°5%
  }
}
```

#### ç›‘æ§å‡é™çº§æƒ…å†µ

```bash
# æŸ¥çœ‹æ—¥å¿—
docker logs aicoin-backend-prod-v2 | grep "æƒé™"

# ç¤ºä¾‹è¾“å‡º:
# æƒé™å‡çº§: L1 â†’ L2, åŸå› : 7æ—¥èƒœç‡60%è¾¾æ ‡
# æƒé™é™çº§: L2 â†’ L1, åŸå› : è¿ç»­äºæŸ4æ¬¡
```

---

### é«˜çº§é…ç½®

#### åˆ›å»ºè‡ªå®šä¹‰ç­‰çº§

```bash
curl -X POST http://localhost:8000/api/v1/admin/permissions/levels \
  -H "Content-Type: application/json" \
  -d '{
    "level": "L1.5",
    "name": "è¿›é˜¶æ–°æ‰‹",
    "description": "L1å’ŒL2ä¹‹é—´çš„è¿‡æ¸¡ç­‰çº§",
    "trading_params": {
      "max_position_pct": 0.11,
      "max_leverage": 2,
      "confidence_threshold": 0.65,
      "max_daily_trades": 6
    },
    "is_active": true
  }'
```

#### A/Bæµ‹è¯•ä¸åŒç­–ç•¥

1. åˆ›å»ºä¸¤ä¸ªé…ç½®ï¼ˆå¦‚L1a, L1bï¼‰
2. åˆ†åˆ«è¿è¡Œä¸åŒçš„AIå®ä¾‹
3. å¯¹æ¯”æ€§èƒ½æ•°æ®
4. é€‰æ‹©æœ€ä¼˜é…ç½®

---

## æŠ€æœ¯å®ç°

### PermissionManageræ ¸å¿ƒé€»è¾‘

```python
class PermissionManager:
    """æƒé™ç®¡ç†å™¨"""
    
    async def load_levels_from_db(self) -> Dict[str, PermissionLevel]:
        """ä»æ•°æ®åº“åŠ è½½é…ç½®ï¼ˆ5åˆ†é’Ÿç¼“å­˜ï¼‰"""
        # 1. æ£€æŸ¥ç¼“å­˜
        if self.levels_cache and self.cache_timestamp:
            if datetime.now() - self.cache_timestamp < timedelta(minutes=5):
                return self.levels_cache
        
        # 2. ä»æ•°æ®åº“è¯»å–
        stmt = select(PermissionLevelConfig).where(
            PermissionLevelConfig.is_active == True
        )
        result = await self.db.execute(stmt)
        configs = result.scalars().all()
        
        # 3. è½¬æ¢ä¸ºPermissionLevelå¯¹è±¡
        levels = {}
        for config in configs:
            levels[config.level] = PermissionLevel(
                level=config.level,
                name=config.name,
                max_position_pct=config.max_position_pct,
                max_leverage=config.max_leverage,
                confidence_threshold=config.confidence_threshold,
                max_daily_trades=config.max_daily_trades
            )
        
        # 4. æ›´æ–°ç¼“å­˜
        self.levels_cache = levels
        self.cache_timestamp = datetime.now()
        
        return levels
    
    async def evaluate_permission_level(
        self,
        current_level: str,
        performance_data: PerformanceData
    ) -> tuple[str, str]:
        """è¯„ä¼°æƒé™ç­‰çº§"""
        # åŠ è½½æœ€æ–°é…ç½®
        levels = await self.load_levels_from_db()
        
        # æ£€æŸ¥é™çº§è§¦å‘å™¨
        if self._check_downgrade_triggers(current_level, performance_data):
            return self._downgrade(current_level), "è§¦å‘é£æ§çº¢çº¿"
        
        # æ£€æŸ¥å‡çº§æ¡ä»¶
        if self._check_upgrade_conditions(current_level, performance_data):
            return self._upgrade(current_level), "æ»¡è¶³å‡çº§æ¡ä»¶"
        
        return current_level, "ä¿æŒå½“å‰ç­‰çº§"
```

### ç¼“å­˜æœºåˆ¶

```python
# ç¼“å­˜æ—¶é•¿: 5åˆ†é’Ÿ
CACHE_DURATION = timedelta(minutes=5)

# ä¼˜ç‚¹:
# 1. å‡å°‘æ•°æ®åº“æŸ¥è¯¢
# 2. é…ç½®ä¿®æ”¹åå¿«é€Ÿç”Ÿæ•ˆ
# 3. æ•°æ®åº“æ•…éšœæ—¶ä»å¯è¿è¡Œï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰

# ç¼ºç‚¹:
# 1. æœ€é•¿5åˆ†é’Ÿå»¶è¿Ÿ
# 2. éœ€è¦å†…å­˜å­˜å‚¨ç¼“å­˜

# è§£å†³æ–¹æ¡ˆ:
# - å¯ä»¥æ‰‹åŠ¨æ¸…ç©ºç¼“å­˜å¼ºåˆ¶åˆ·æ–°
# - å¯ä»¥è°ƒæ•´ç¼“å­˜æ—¶é•¿
```

### å®¹é”™æœºåˆ¶

```python
try:
    # å°è¯•ä»æ•°æ®åº“åŠ è½½
    levels = await self.load_levels_from_db()
except Exception as e:
    logger.error(f"æ•°æ®åº“åŠ è½½å¤±è´¥: {e}")
    # Fallbackåˆ°ç¡¬ç¼–ç çš„é»˜è®¤é…ç½®
    levels = self.DEFAULT_LEVELS
```

---

## æœ€ä½³å®è·µ

### 1. åˆå§‹é…ç½®å»ºè®®

**å°èµ„é‡‘è´¦æˆ· ($50-$200)**:
```json
{
  "L1": {
    "max_position_pct": 0.10,      // 10%
    "confidence_threshold": 0.50,   // æ¿€è¿›
    "max_daily_trades": 10          // å¿«é€Ÿç§¯ç´¯ç»éªŒ
  }
}
```

**ä¸­ç­‰èµ„é‡‘è´¦æˆ· ($200-$1000)**:
```json
{
  "L1": {
    "max_position_pct": 0.08,       // 8%
    "confidence_threshold": 0.65,   // å¹³è¡¡
    "max_daily_trades": 5           // æ³¨é‡è´¨é‡
  }
}
```

**å¤§èµ„é‡‘è´¦æˆ· ($1000+)**:
```json
{
  "L1": {
    "max_position_pct": 0.05,       // 5%
    "confidence_threshold": 0.75,   // ä¿å®ˆ
    "max_daily_trades": 3           // ç²¾é€‰äº¤æ˜“
  }
}
```

### 2. å‡é™çº§æ¡ä»¶è°ƒæ•´

**æ¿€è¿›ç­–ç•¥** (å¿«é€Ÿå‡çº§):
```json
{
  "upgrade_conditions": {
    "win_rate_7d": 0.50,    // é™ä½è¦æ±‚
    "min_trades": 3,        // å‡å°‘äº¤æ˜“æ¬¡æ•°è¦æ±‚
    "min_days": 1           // ç¼©çŸ­æ—¶é—´è¦æ±‚
  }
}
```

**ä¿å®ˆç­–ç•¥** (è°¨æ…å‡çº§):
```json
{
  "upgrade_conditions": {
    "win_rate_7d": 0.70,    // æé«˜è¦æ±‚
    "min_trades": 20,       // å¢åŠ äº¤æ˜“æ¬¡æ•°è¦æ±‚
    "min_days": 7           // å»¶é•¿æ—¶é—´è¦æ±‚
  }
}
```

### 3. ç›‘æ§æŒ‡æ ‡

å®šæœŸæ£€æŸ¥ä»¥ä¸‹æŒ‡æ ‡ï¼š

```bash
# 1. å½“å‰æƒé™ç­‰çº§åˆ†å¸ƒ
SELECT level, COUNT(*) FROM ai_instances GROUP BY level;

# 2. å¹³å‡å‡çº§æ—¶é—´
SELECT AVG(days_to_upgrade) FROM permission_history;

# 3. é™çº§è§¦å‘é¢‘ç‡
SELECT downgrade_reason, COUNT(*) 
FROM permission_history 
WHERE action = 'downgrade' 
GROUP BY downgrade_reason;
```

### 4. å®‰å…¨å»ºè®®

1. **å¤‡ä»½é…ç½®**: å®šæœŸå¯¼å‡ºé…ç½®åˆ°JSONæ–‡ä»¶
2. **ç‰ˆæœ¬æ§åˆ¶**: é‡å¤§ä¿®æ”¹å‰è®°å½•å½“å‰é…ç½®
3. **ç°åº¦å‘å¸ƒ**: å…ˆåœ¨æµ‹è¯•è´¦æˆ·éªŒè¯æ–°é…ç½®
4. **ç›‘æ§å‘Šè­¦**: è®¾ç½®é™çº§é¢‘ç‡è¿‡é«˜çš„å‘Šè­¦
5. **å›æ»šæœºåˆ¶**: ä¿ç•™æœ€è¿‘3ä¸ªç‰ˆæœ¬çš„é…ç½®å¤‡ä»½

---

## FAQ

### Q1: ä¿®æ”¹é…ç½®åå¤šä¹…ç”Ÿæ•ˆï¼Ÿ

**A**: æœ€é•¿5åˆ†é’Ÿã€‚PermissionManagerä½¿ç”¨5åˆ†é’Ÿç¼“å­˜æœºåˆ¶ï¼Œä¸‹æ¬¡è¯»å–é…ç½®æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

**ç«‹å³ç”Ÿæ•ˆæ–¹æ³•**:
```bash
# é‡å¯backendå®¹å™¨
docker-compose restart backend
```

---

### Q2: æ•°æ®åº“æŒ‚äº†æ€ä¹ˆåŠï¼Ÿ

**A**: ç³»ç»Ÿä¼šè‡ªåŠ¨fallbackåˆ°ä»£ç ä¸­çš„é»˜è®¤é…ç½®ï¼ˆ`DEFAULT_LEVELS`ï¼‰ï¼Œä¸ä¼šå½±å“è¿è¡Œã€‚

```python
# è‡ªåŠ¨é™çº§æµç¨‹:
try:
    levels = load_from_db()
except:
    levels = DEFAULT_LEVELS  # ä½¿ç”¨ç¡¬ç¼–ç é…ç½®
```

---

### Q3: å¯ä»¥åˆ é™¤æŸä¸ªç­‰çº§å—ï¼Ÿ

**A**: æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨èã€‚å»ºè®®ä½¿ç”¨ `is_active=false` ç¦ç”¨è€Œéåˆ é™¤ã€‚

```json
{
  "is_active": false  // ç¦ç”¨æ­¤ç­‰çº§
}
```

---

### Q4: å¦‚ä½•é‡ç½®ä¸ºé»˜è®¤é…ç½®ï¼Ÿ

**A**: è°ƒç”¨åˆå§‹åŒ–APIä¼šé‡æ–°åˆ›å»ºé»˜è®¤é…ç½®ï¼š

```bash
curl -X POST http://localhost:8000/api/v1/admin/permissions/levels/init-defaults
```

æˆ–åœ¨å‰ç«¯ç‚¹å‡»"åˆå§‹åŒ–é»˜è®¤é…ç½®"æŒ‰é’®ã€‚

---

### Q5: å‡çº§æ¡ä»¶ä¸ºç©ºæ—¶å¦‚ä½•å¤„ç†ï¼Ÿ

**A**: å¦‚æœ `upgrade_conditions` å…¨éƒ¨ä¸ºç©ºï¼ˆNoneï¼‰ï¼Œåˆ™è¯¥ç­‰çº§æ— æ³•è‡ªåŠ¨å‡çº§ï¼Œéœ€è¦æ‰‹åŠ¨å¹²é¢„ã€‚

---

### Q6: å¤šä¸ªAIå®ä¾‹å¦‚ä½•ç®¡ç†ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬æ‰€æœ‰AIå®ä¾‹å…±äº«ç›¸åŒçš„æƒé™é…ç½®ã€‚æœªæ¥å¯æ‰©å±•ä¸ºï¼š
- æ¯ä¸ªAIå®ä¾‹ç‹¬ç«‹é…ç½®
- æŒ‰ç”¨æˆ·/è´¦æˆ·åˆ†ç»„é…ç½®
- æ”¯æŒé…ç½®æ¨¡æ¿

---

### Q7: å¦‚ä½•å¯¼å‡º/å¯¼å…¥é…ç½®ï¼Ÿ

**A**: å¯ä»¥é€šè¿‡APIæ‰¹é‡æ“ä½œï¼š

```bash
# å¯¼å‡º
curl http://localhost:8000/api/v1/admin/permissions/levels > config_backup.json

# å¯¼å…¥ï¼ˆéœ€è¦é€ä¸ªè°ƒç”¨PUTæ¥å£ï¼‰
for level in L0 L1 L2 L3 L4 L5; do
  curl -X PUT http://localhost:8000/api/v1/admin/permissions/levels/$level \
    -H "Content-Type: application/json" \
    -d @config_backup_${level}.json
done
```

---

## é™„å½•

### A. å®Œæ•´APIåˆ—è¡¨

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/v1/admin/permissions/levels` | è·å–æ‰€æœ‰ç­‰çº§ |
| GET | `/api/v1/admin/permissions/levels/{level}` | è·å–å•ä¸ªç­‰çº§ |
| POST | `/api/v1/admin/permissions/levels` | åˆ›å»ºæ–°ç­‰çº§ |
| PUT | `/api/v1/admin/permissions/levels/{level}` | æ›´æ–°ç­‰çº§ |
| DELETE | `/api/v1/admin/permissions/levels/{level}` | åˆ é™¤ç­‰çº§ |
| POST | `/api/v1/admin/permissions/levels/{level}/set-default` | è®¾ä¸ºé»˜è®¤ |
| POST | `/api/v1/admin/permissions/levels/init-defaults` | åˆå§‹åŒ– |

### B. æ–‡ä»¶ä½ç½®

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ permission_config.py              # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ api/v1/admin/
â”‚   â”‚   â””â”€â”€ permissions.py                    # APIç«¯ç‚¹
â”‚   â”œâ”€â”€ services/constraints/
â”‚   â”‚   â””â”€â”€ permission_manager.py             # æƒé™ç®¡ç†å™¨
â”‚   â””â”€â”€ alembic/versions/
â”‚       â””â”€â”€ 003_add_permission_configs.py     # æ•°æ®åº“è¿ç§»

frontend/
â””â”€â”€ app/admin/permissions/
    â””â”€â”€ page.tsx                              # ç®¡ç†ç•Œé¢
```

### C. ç›¸å…³æ–‡æ¡£

- [AIcoinç³»ç»Ÿæ¶æ„](./æ¶æ„è®¾è®¡.md)
- [é£æ§çº¦æŸæ¡†æ¶](./çº¦æŸæ¡†æ¶è®¾è®¡.md)
- [æ•°æ®åº“è®¾è®¡](./æ•°æ®åº“è®¾è®¡.md)
- [APIæ–‡æ¡£](http://localhost:8000/docs)

---

## æ›´æ–°æ—¥å¿—

### v2.0 (2025-11-03)
- âœ… å®ç°å®Œæ•´çš„æƒé™ç­‰çº§ç®¡ç†ç³»ç»Ÿ
- âœ… æ”¯æŒåå°å¯è§†åŒ–é…ç½®
- âœ… æ·»åŠ æ•°æ®åº“æŒä¹…åŒ–
- âœ… å®ç°5åˆ†é’Ÿç¼“å­˜æœºåˆ¶
- âœ… æ·»åŠ å®¹é”™fallbackæœºåˆ¶

### v1.0 (2025-10-30)
- âœ… ç¡¬ç¼–ç çš„æƒé™ç­‰çº§é…ç½®
- âœ… åŸºç¡€çš„å‡é™çº§é€»è¾‘

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AIcoinäº§å“å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-11-03  
**ç‰ˆæœ¬**: v2.0

