# Gitæäº¤å»ºè®® - AIcoin v3.0

> å»ºè®®çš„Gitæäº¤æ¶ˆæ¯å’Œå˜æ›´æ¸…å•

---

## ğŸ“‹ æäº¤å‰æ£€æŸ¥æ¸…å•

### å¿…é¡»æ£€æŸ¥
- [ ] æ‰€æœ‰æ–°æ–‡ä»¶å·²æ·»åŠ åˆ°Git
- [ ] æ•æ„Ÿä¿¡æ¯å·²ä»ä»£ç ä¸­ç§»é™¤
- [ ] .envæ–‡ä»¶æœªæäº¤
- [ ] æ—¥å¿—æ–‡ä»¶å·²å¿½ç•¥
- [ ] ä»£ç å·²æ ¼å¼åŒ–
- [ ] åŸºæœ¬åŠŸèƒ½å·²æµ‹è¯•

### å»ºè®®æ£€æŸ¥
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´
- [ ] ç±»å‹æ³¨è§£æ­£ç¡®
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ–‡æ¡£å·²æ›´æ–°

---

## ğŸ¯ æ¨èçš„æäº¤ç­–ç•¥

### æ–¹æ¡ˆ1ï¼šå•æ¬¡å¤§æäº¤ï¼ˆæ¨èï¼‰
é€‚åˆå¿«é€Ÿå‘å¸ƒï¼Œä¸€æ¬¡æ€§æäº¤æ‰€æœ‰æ›´æ”¹

```bash
git add .
git commit -m "feat: AIcoin v3.0 æ ¸å¿ƒæ¶æ„å‡çº§

ğŸ¯ æ ¸å¿ƒæ›´æ–°
- Qwenæƒ…æŠ¥å‘˜å¤šå¹³å°ååŒç³»ç»Ÿ
- DeepSeekäº¤æ˜“å‘˜è®­ç»ƒæ”¯æŒç³»ç»Ÿ
- Celeryå®šæ—¶å­¦ä¹ ä»»åŠ¡
- å‰ç«¯ç®¡ç†ç•Œé¢

ğŸ“¦ æ–°å¢æ¨¡å—
- å¤šå¹³å°é€‚é…å™¨ï¼ˆå…è´¹ã€Qwenæœç´¢ã€Qwenæ·±åº¦ï¼‰
- å››å±‚æ™ºèƒ½å­˜å‚¨ï¼ˆRedisã€åˆ†æã€PGã€Qdrantï¼‰
- ä¿¡æ¯æºæƒé‡ä¼˜åŒ–å™¨
- è®­ç»ƒæ•°æ®æ”¶é›†å™¨
- æ¨¡å‹ç‰ˆæœ¬ç®¡ç†

ğŸ—„ï¸ æ•°æ®åº“
- æ–°å¢4å¼ è¡¨ï¼ˆæƒé‡ã€åé¦ˆã€ç‰ˆæœ¬ã€ä»»åŠ¡ï¼‰
- 4ä¸ªAlembicè¿ç§»è„šæœ¬

ğŸ¨ å‰ç«¯
- æƒ…æŠ¥å¹³å°ç®¡ç†é¡µé¢
- æ¨¡å‹è®­ç»ƒç®¡ç†é¡µé¢

âš™ï¸ è‡ªåŠ¨åŒ–
- 6ä¸ªCeleryå®šæ—¶ä»»åŠ¡
- æ¯å°æ—¶/æ¯æ—¥/æ¯å‘¨è‡ªåŠ¨ä¼˜åŒ–

ğŸ“Š ç»Ÿè®¡
- æ–°å¢æ–‡ä»¶: 40+
- ä»£ç è¡Œæ•°: ~5800
- æ–‡æ¡£æ›´æ–°: 5ä¸ª

ğŸ“ æŠ€æœ¯äº®ç‚¹
- åŒAIçº¿ç‹¬ç«‹åä½œæ¶æ„
- æŒç»­å­¦ä¹ ä¸è‡ªæˆ‘ä¼˜åŒ–
- æ¨¡å—åŒ–ä¸å¯æ‰©å±•è®¾è®¡
- æˆæœ¬å¯æ§çš„å¤šå¹³å°ç­–ç•¥

âš ï¸ Breaking Changes
- éœ€æ‰§è¡Œæ•°æ®åº“è¿ç§»
- éœ€å¯åŠ¨Celery Workerå’ŒBeat
- éœ€é…ç½®æ–°çš„ç¯å¢ƒå˜é‡

ğŸ“ æ–‡æ¡£
- v3.0å¼€å‘æ€»ç»“
- v3.0å¼€å‘å®ŒæˆæŠ¥å‘Š
- v3.0å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
- ä»Šæ—¥å·¥ä½œæ€»ç»“

âœ… çŠ¶æ€
æ ¸å¿ƒå¼€å‘å®Œæˆï¼Œå¾…é›†æˆæµ‹è¯•å’ŒAPIå¼€å‘

Co-authored-by: AI Assistant <ai@example.com>
"

git push origin main
```

### æ–¹æ¡ˆ2ï¼šåˆ†æ¨¡å—æäº¤ï¼ˆä¸¥è°¨ï¼‰
é€‚åˆéœ€è¦æ¸…æ™°å†å²è®°å½•çš„æƒ…å†µ

#### æäº¤1ï¼šåç«¯-Qwenæƒ…æŠ¥å‘˜
```bash
git add backend/app/services/intelligence/
git add backend/app/core/config.py
git commit -m "feat(intelligence): Qwenæƒ…æŠ¥å‘˜å¤šå¹³å°ååŒç³»ç»Ÿ

- åˆ›å»ºå¹³å°é€‚é…å™¨åŸºç±»å’Œ3ä¸ªå…·ä½“å®ç°
- å®ç°å¤šå¹³å°åè°ƒå™¨ï¼ˆä¸‰é˜¶æ®µæµç¨‹ï¼‰
- æ„å»ºå››å±‚æ™ºèƒ½å­˜å‚¨ç³»ç»Ÿ
- å¼€å‘ä¿¡æ¯æºæƒé‡ä¼˜åŒ–å™¨

Files:
- platforms/ (5ä¸ªæ–‡ä»¶)
- storage_layers/ (5ä¸ªæ–‡ä»¶)  
- multi_platform_coordinator.py
- source_weight_optimizer.py
"
```

#### æäº¤2ï¼šåç«¯-DeepSeekè®­ç»ƒ
```bash
git add backend/app/training/
git add backend/app/models/intelligence_source_weight.py
git add backend/app/models/model_version.py
git commit -m "feat(training): DeepSeekè®­ç»ƒæ”¯æŒç³»ç»Ÿ

- è®­ç»ƒæ•°æ®è‡ªåŠ¨æ”¶é›†å™¨
- æ¨¡å‹ç‰ˆæœ¬ç®¡ç†
- å†³ç­–æ•°æ®æå–ä¸æ ‡æ³¨
- JSONLå¯¼å‡ºåŠŸèƒ½

Files:
- training/data_collection/ (3ä¸ªæ–‡ä»¶)
- models/ (2ä¸ªæ–°æ¨¡å‹)
"
```

#### æäº¤3ï¼šæ•°æ®åº“è¿ç§»
```bash
git add backend/alembic/versions/006_*.py
git add backend/alembic/versions/007_*.py
git add backend/alembic/versions/008_*.py
git add backend/alembic/versions/009_*.py
git commit -m "feat(db): v3.0æ•°æ®åº“Schemaå‡çº§

æ–°å¢4å¼ è¡¨:
- intelligence_source_weights (æƒ…æŠ¥æºæƒé‡)
- intelligence_feedback (ç”¨æˆ·åé¦ˆ)
- model_versions (æ¨¡å‹ç‰ˆæœ¬)
- training_jobs (è®­ç»ƒä»»åŠ¡)

Migration files:
- 006_add_intelligence_source_weights.py
- 007_add_intelligence_feedback.py
- 008_add_model_versions.py
- 009_add_training_jobs.py
"
```

#### æäº¤4ï¼šCeleryä»»åŠ¡
```bash
git add backend/app/tasks/
git commit -m "feat(tasks): CeleryæŒç»­å­¦ä¹ å®šæ—¶ä»»åŠ¡

6ä¸ªè‡ªåŠ¨åŒ–ä»»åŠ¡:
- æ¯å°æ—¶: æƒé‡ä¼˜åŒ–ã€è¡Œä¸ºåˆ†æ
- æ¯æ—¥: å‘é‡åŒ–ã€è´¨é‡è¯„ä¼°
- æ¯å‘¨: æ¨¡å¼åˆ†æã€ä¼˜åŒ–æŠ¥å‘Š

Files:
- app/tasks/intelligence_learning.py
"
```

#### æäº¤5ï¼šå‰ç«¯ç•Œé¢
```bash
git add frontend/app/admin/intelligence-platforms/
git add frontend/app/admin/model-training/
git commit -m "feat(frontend): æ–°å¢ç®¡ç†ç•Œé¢

2ä¸ªæ–°é¡µé¢:
- intelligence-platforms: å¤šå¹³å°ç®¡ç†
- model-training: è®­ç»ƒä»»åŠ¡ç®¡ç†

åŠŸèƒ½:
- å®æ—¶çŠ¶æ€ç›‘æ§
- æƒé‡åŠ¨æ€å±•ç¤º
- è®­ç»ƒè¿›åº¦è¿½è¸ª
- æ•°æ®ç»Ÿè®¡å¯è§†åŒ–
"
```

#### æäº¤6ï¼šæ–‡æ¡£æ›´æ–°
```bash
git add docs/
git add ä»Šæ—¥å·¥ä½œæ€»ç»“_2025-11-05_v3.0.md
git add GIT_COMMIT_V3.0.md
git commit -m "docs: v3.0å®Œæ•´æ–‡æ¡£

æ–°å¢/æ›´æ–°æ–‡æ¡£:
- v3.0å¼€å‘æ€»ç»“.md
- v3.0å¼€å‘å®ŒæˆæŠ¥å‘Š.md
- v3.0å¿«é€Ÿä¸Šæ‰‹æŒ‡å—.md
- ä»Šæ—¥å·¥ä½œæ€»ç»“_2025-11-05_v3.0.md
- GIT_COMMIT_V3.0.md

å†…å®¹:
- å®Œæ•´æ¶æ„è¯´æ˜
- éƒ¨ç½²æ­¥éª¤æŒ‡å—
- å¸¸è§é—®é¢˜è§£ç­”
- å¾…åŠäº‹é¡¹æ¸…å•
"
```

#### æœ€ç»ˆæ¨é€
```bash
git push origin main
```

---

## ğŸ“ æäº¤æ¶ˆæ¯è§„èŒƒ

### Commitç±»å‹
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

### ä½œç”¨åŸŸï¼ˆå¯é€‰ï¼‰
- `intelligence`: Qwenæƒ…æŠ¥ç³»ç»Ÿ
- `training`: DeepSeekè®­ç»ƒç³»ç»Ÿ
- `tasks`: Celeryä»»åŠ¡
- `frontend`: å‰ç«¯ç•Œé¢
- `db`: æ•°æ®åº“
- `docs`: æ–‡æ¡£

### ç¤ºä¾‹
```
feat(intelligence): æ·»åŠ Qwenæœç´¢é€‚é…å™¨
fix(training): ä¿®å¤æ•°æ®æ”¶é›†å™¨çš„æ—¶é—´èŒƒå›´é—®é¢˜
docs: æ›´æ–°å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
```

---

## ğŸ” å˜æ›´æ–‡ä»¶æ¸…å•

### åç«¯æ–°å¢ï¼ˆ35ä¸ªæ–‡ä»¶ï¼‰
```
backend/app/services/intelligence/
â”œâ”€â”€ platforms/__init__.py
â”œâ”€â”€ platforms/base_adapter.py
â”œâ”€â”€ platforms/free_platform_adapter.py
â”œâ”€â”€ platforms/qwen_search_adapter.py
â”œâ”€â”€ platforms/qwen_deep_adapter.py
â”œâ”€â”€ storage_layers/__init__.py
â”œâ”€â”€ storage_layers/short_term_cache.py
â”œâ”€â”€ storage_layers/mid_term_analyzer.py
â”œâ”€â”€ storage_layers/long_term_store.py
â”œâ”€â”€ storage_layers/vector_knowledge_base.py
â”œâ”€â”€ multi_platform_coordinator.py
â””â”€â”€ source_weight_optimizer.py

backend/app/training/
â”œâ”€â”€ __init__.py
â””â”€â”€ data_collection/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ decision_collector.py

backend/app/models/
â”œâ”€â”€ intelligence_source_weight.py
â””â”€â”€ model_version.py

backend/app/tasks/
â””â”€â”€ intelligence_learning.py

backend/alembic/versions/
â”œâ”€â”€ 006_add_intelligence_source_weights.py
â”œâ”€â”€ 007_add_intelligence_feedback.py
â”œâ”€â”€ 008_add_model_versions.py
â””â”€â”€ 009_add_training_jobs.py
```

### åç«¯ä¿®æ”¹ï¼ˆ3ä¸ªæ–‡ä»¶ï¼‰
```
backend/app/core/config.py
backend/app/services/intelligence/platforms/__init__.py
backend/app/services/intelligence/multi_platform_coordinator.py
```

### å‰ç«¯æ–°å¢ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰
```
frontend/app/admin/intelligence-platforms/page.tsx
frontend/app/admin/model-training/page.tsx
```

### æ–‡æ¡£æ–°å¢/æ›´æ–°ï¼ˆ5ä¸ªæ–‡ä»¶ï¼‰
```
docs/10-ç‰ˆæœ¬æ›´æ–°/v3.0å¼€å‘æ€»ç»“.md
docs/10-ç‰ˆæœ¬æ›´æ–°/v3.0å¼€å‘å®ŒæˆæŠ¥å‘Š.md
docs/06-å¿«é€Ÿå‚è€ƒ/v3.0å¿«é€Ÿä¸Šæ‰‹æŒ‡å—.md
ä»Šæ—¥å·¥ä½œæ€»ç»“_2025-11-05_v3.0.md
GIT_COMMIT_V3.0.md
```

### æ–‡ä»¶åˆ é™¤ï¼ˆ1ä¸ªï¼‰
```
backend/app/services/intelligence/platforms/deepseek_search_adapter.py
```

---

## âš ï¸ æäº¤å‰æ³¨æ„äº‹é¡¹

### å¿…é¡»æ’é™¤çš„æ–‡ä»¶
```bash
# ç¡®è®¤.gitignoreåŒ…å«ï¼š
.env
.env.local
*.log
__pycache__/
*.pyc
.DS_Store
node_modules/
.next/
dist/
build/
*.pid
```

### æ•æ„Ÿä¿¡æ¯æ£€æŸ¥
```bash
# æ£€æŸ¥æ˜¯å¦åŒ…å«æ•æ„Ÿä¿¡æ¯
git diff | grep -i "api_key\|password\|secret\|token"

# å¦‚æœå‘ç°æ•æ„Ÿä¿¡æ¯ï¼Œç«‹å³ä»æš‚å­˜åŒºç§»é™¤
git reset HEAD <file>
```

### æäº¤å‰æµ‹è¯•
```bash
# åç«¯è¯­æ³•æ£€æŸ¥
cd backend
python -m py_compile app/**/*.py

# å‰ç«¯è¯­æ³•æ£€æŸ¥
cd frontend
npm run build
```

---

## ğŸš€ æäº¤åæ“ä½œ

### 1. åˆ›å»ºTagï¼ˆæ¨èï¼‰
```bash
git tag -a v3.0.0 -m "AIcoin v3.0 æ ¸å¿ƒæ¶æ„å‡çº§

ä¸»è¦æ›´æ–°:
- Qwenæƒ…æŠ¥å‘˜å¤šå¹³å°ååŒ
- DeepSeekè®­ç»ƒæ”¯æŒ
- CeleryæŒç»­å­¦ä¹ 
- ç®¡ç†ç•Œé¢

å‘å¸ƒæ—¥æœŸ: 2025-11-05
"

git push origin v3.0.0
```

### 2. åˆ›å»ºReleaseåˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
```bash
git checkout -b release/v3.0
git push origin release/v3.0
```

### 3. æ›´æ–°CHANGELOG
```bash
# æ‰‹åŠ¨æ›´æ–° docs/10-ç‰ˆæœ¬æ›´æ–°/CHANGELOG.md
# æˆ–ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆ
```

---

## ğŸ“Š æäº¤ç»Ÿè®¡

### æ–‡ä»¶ç»Ÿè®¡
- æ–°å¢æ–‡ä»¶: 42ä¸ª
- ä¿®æ”¹æ–‡ä»¶: 3ä¸ª
- åˆ é™¤æ–‡ä»¶: 1ä¸ª
- æ€»è®¡: 46ä¸ªå˜æ›´

### ä»£ç ç»Ÿè®¡
- åç«¯: ~3500è¡Œ
- å‰ç«¯: ~800è¡Œ
- æ–‡æ¡£: ~1500è¡Œ
- æ€»è®¡: ~5800è¡Œ

### æäº¤å¤§å°é¢„ä¼°
- çº¦ 200KBï¼ˆä»£ç ï¼‰
- çº¦ 50KBï¼ˆæ–‡æ¡£ï¼‰
- æ€»è®¡: ~250KB

---

## ğŸ¯ æ¨èæ‰§è¡Œ

### å¿«é€Ÿæäº¤ï¼ˆæ¨èç»™äº§å“ç»ç†ï¼‰
```bash
# å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤ç›´æ¥æ‰§è¡Œ
git add .
git status  # æ£€æŸ¥è¦æäº¤çš„æ–‡ä»¶
git commit -F- <<'EOF'
feat: AIcoin v3.0 æ ¸å¿ƒæ¶æ„å‡çº§

ğŸ¯ æ ¸å¿ƒæ›´æ–°
- Qwenæƒ…æŠ¥å‘˜å¤šå¹³å°ååŒç³»ç»Ÿ
- DeepSeekäº¤æ˜“å‘˜è®­ç»ƒæ”¯æŒç³»ç»Ÿ  
- Celeryå®šæ—¶å­¦ä¹ ä»»åŠ¡
- å‰ç«¯ç®¡ç†ç•Œé¢

ğŸ“¦ æ–°å¢40+æ–‡ä»¶ï¼Œ~5800è¡Œä»£ç 
âœ… çŠ¶æ€ï¼šæ ¸å¿ƒå¼€å‘å®Œæˆï¼Œå¾…é›†æˆæµ‹è¯•

è¯¦è§: docs/10-ç‰ˆæœ¬æ›´æ–°/v3.0å¼€å‘å®ŒæˆæŠ¥å‘Š.md
EOF

git push origin main
git tag -a v3.0.0 -m "v3.0 Release"
git push origin v3.0.0
```

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-11-05  
**å»ºè®®æ‰§è¡Œæ—¶é—´**: ä»£ç å®¡æŸ¥é€šè¿‡å  
**é¢„è®¡æäº¤æ—¶é•¿**: 2-5åˆ†é’Ÿ

