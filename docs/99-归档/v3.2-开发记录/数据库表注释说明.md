# 数据库表注释说明

**最后更新**: 2025-11-09  
**总表数**: 25张  
**注释完整度**: 100% ✅

## 📋 已添加注释的表

### 情报中枢相关表

| 表名 | 注释 | 说明 |
|------|------|------|
| `intelligence_reports` | 📊 情报报告 - Qwen情报官收集的市场情报和分析报告 | 存储AI分析的市场情报、新闻、巨鲸活动、链上数据等 |
| `intelligence_platforms` | 🤖 AI平台配置 - 管理多个AI云平台的配置和统计信息 | 管理DeepSeek、Qwen、腾讯云、火山引擎、百度云等AI平台 |
| `intelligence_feedback` | 💬 情报反馈 - 记录用户对情报质量的反馈 | 用户对情报准确性和有用性的评价 |
| `intelligence_source_weights` | ⚖️ 数据源权重 - 动态调整各数据源的权重配置 | 根据数据源质量动态调整权重 |

### KOL追踪相关表

| 表名 | 注释 | 说明 |
|------|------|------|
| `kol_sources` | 👥 KOL数据源 - 追踪的意见领袖（KOL）列表 | 存储Twitter、Telegram等平台的KOL信息 |
| `kol_opinions` | 💭 KOL意见 - KOL发表的市场观点和预测 | 记录KOL的市场观点、情绪分析、提及币种 |

### 聪明钱跟单相关表

| 表名 | 注释 | 说明 |
|------|------|------|
| `smart_money_wallets` | 💰 聪明钱钱包 - 追踪的高收益钱包地址 | 存储高收益钱包的地址、收益、胜率等信息 |
| `smart_money_transactions` | 📈 聪明钱交易 - 聪明钱钱包的交易记录 | 记录聪明钱的买入/卖出操作、代币、价格、DEX |

### AI决策和学习相关表

| 表名 | 注释 | 说明 |
|------|------|------|
| `ai_decisions` | 🎯 AI决策记录 - DeepSeek的交易决策历史 | 存储AI的每次交易决策及其结果 |
| `ai_lessons` | 📚 AI学习记录 - AI从历史交易中学习到的经验教训 | AI的学习日志和经验总结 |
| `ai_strategies` | 🎲 AI策略库 - AI使用的交易策略配置 | AI的交易策略参数和配置 |
| `ai_budget_alerts` | ⚠️ 预算告警 - AI成本预算超限告警记录 | AI使用成本超出预算时的告警 |

### AI平台管理相关表

| 表名 | 注释 | 说明 |
|------|------|------|
| `model_performance_metrics` | 📊 模型性能指标 - AI模型的性能统计和评估 | 统计各AI模型的调用次数、成功率、响应时间 |
| `routing_decisions` | 🔀 路由决策 - AI平台选择和路由的决策记录 | 记录如何选择和路由到不同的AI平台 |

### 其他已有表（保持原有注释）

| 表名 | 说明 |
|------|------|
| `ai_model_pricing` | AI模型定价信息 |
| `ai_model_usage_log` | AI模型使用日志 |
| `admin_users` | 管理员用户 |
| `account_snapshots` | 账户快照 |
| `exchange_configs` | 交易所配置 |
| `market_data_kline` | K线数据 |
| `market_patterns` | 市场模式 |
| `orders` | 订单记录 |
| `trades` | 交易记录 |
| `risk_events` | 风险事件 |
| `permission_level_configs` | 权限配置 |

## 🔧 添加注释的SQL命令

### 情报中枢表

```sql
COMMENT ON TABLE intelligence_reports IS '📊 情报报告 - Qwen情报官收集的市场情报和分析报告';
COMMENT ON TABLE intelligence_platforms IS '🤖 AI平台配置 - 管理多个AI云平台的配置和统计信息';
COMMENT ON TABLE intelligence_feedback IS '💬 情报反馈 - 记录用户对情报质量的反馈';
COMMENT ON TABLE intelligence_source_weights IS '⚖️ 数据源权重 - 动态调整各数据源的权重配置';
```

### KOL追踪表

```sql
COMMENT ON TABLE kol_sources IS '👥 KOL数据源 - 追踪的意见领袖（KOL）列表';
COMMENT ON TABLE kol_opinions IS '💭 KOL意见 - KOL发表的市场观点和预测';
```

### 聪明钱跟单表

```sql
COMMENT ON TABLE smart_money_wallets IS '💰 聪明钱钱包 - 追踪的高收益钱包地址';
COMMENT ON TABLE smart_money_transactions IS '📈 聪明钱交易 - 聪明钱钱包的交易记录';
```

### AI决策和学习表

```sql
COMMENT ON TABLE ai_decisions IS '🎯 AI决策记录 - DeepSeek的交易决策历史';
COMMENT ON TABLE ai_lessons IS '📚 AI学习记录 - AI从历史交易中学习到的经验教训';
COMMENT ON TABLE ai_strategies IS '🎲 AI策略库 - AI使用的交易策略配置';
COMMENT ON TABLE ai_budget_alerts IS '⚠️ 预算告警 - AI成本预算超限告警记录';
```

### AI平台管理表

```sql
COMMENT ON TABLE model_performance_metrics IS '📊 模型性能指标 - AI模型的性能统计和评估';
COMMENT ON TABLE routing_decisions IS '🔀 路由决策 - AI平台选择和路由的决策记录';
```

## 📊 验证注释

查看所有表的注释：

```sql
SELECT 
    tablename,
    obj_description((schemaname||'.'||tablename)::regclass, 'pg_class') as description
FROM pg_tables 
WHERE schemaname = 'public'
ORDER BY tablename;
```

查看特定表的注释：

```sql
SELECT obj_description('intelligence_reports'::regclass, 'pg_class');
```

## 🎯 注释规范

### 格式

```
[Emoji] [中文名称] - [详细说明]
```

### Emoji使用规范

- 📊 - 数据统计、报告
- 🤖 - AI相关
- 👥 - 用户、KOL
- 💰 - 资金、钱包
- 📈 - 交易、趋势
- 🎯 - 决策、目标
- 📚 - 学习、知识
- 🎲 - 策略
- ⚠️ - 告警、警告
- 💬 - 反馈、评论
- ⚖️ - 权重、平衡
- 💭 - 意见、观点
- 🔀 - 路由、选择

## 📝 更新日志

### 2025-11-09

**新增表注释**:
- ✅ intelligence_reports
- ✅ intelligence_platforms
- ✅ intelligence_feedback
- ✅ intelligence_source_weights
- ✅ kol_sources
- ✅ kol_opinions
- ✅ smart_money_wallets
- ✅ smart_money_transactions
- ✅ ai_decisions
- ✅ ai_lessons
- ✅ ai_strategies
- ✅ ai_budget_alerts
- ✅ model_performance_metrics
- ✅ routing_decisions

**执行方式**: 直接在PostgreSQL中执行COMMENT命令

**效果**: 前端"数据源管理"页面现在可以显示所有表的中文注释

---

**更新时间**: 2025-11-09  
**更新状态**: ✅ 已完成  
**影响范围**: 数据库表注释，前端数据源管理页面显示

