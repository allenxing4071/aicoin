# äº¤æ˜“æ‰€ç»„ä»¶

> **ç‰ˆæœ¬**: v3.1  
> **æ¡†æ¶**: Next.js 14 + React + TypeScript  
> **UIåº“**: Tailwind CSS + Shadcn/ui

## æ¦‚è¿°

v3.1 æ–°å¢äº†äº¤æ˜“æ‰€ç®¡ç†ç›¸å…³çš„Reactç»„ä»¶,æ”¯æŒäº¤æ˜“æ‰€åˆ‡æ¢ã€å¤šå‘¨æœŸKçº¿å±•ç¤ºå’Œé…ç½®ç®¡ç†ã€‚

## ç»„ä»¶åˆ—è¡¨

| ç»„ä»¶ | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `ExchangeSelector` | `app/components/exchange/` | äº¤æ˜“æ‰€åˆ‡æ¢å™¨ | âœ… |
| `MultiTimeframeChart` | `app/components/charts/` | å¤šå‘¨æœŸKçº¿å›¾è¡¨ | âœ… |
| `ExchangeManagementPage` | `app/admin/exchanges/` | ç®¡ç†é¡µé¢ | âœ… |

---

## 1. ExchangeSelector ç»„ä»¶

äº¤æ˜“æ‰€é€‰æ‹©å’Œåˆ‡æ¢ç»„ä»¶,æ”¯æŒå®æ—¶åˆ‡æ¢äº¤æ˜“æ‰€å’Œå¸‚åœºç±»å‹ã€‚

### æ–‡ä»¶ä½ç½®

```
frontend/app/components/exchange/ExchangeSelector.tsx
```

### åŠŸèƒ½ç‰¹æ€§

- âœ… æ˜¾ç¤ºå½“å‰æ¿€æ´»çš„äº¤æ˜“æ‰€
- âœ… æ”¯æŒäº¤æ˜“æ‰€åˆ‡æ¢ (Binance, Hyperliquid)
- âœ… æ”¯æŒå¸‚åœºç±»å‹åˆ‡æ¢ (ç°è´§/åˆçº¦)
- âœ… å®æ—¶çŠ¶æ€æ›´æ–°
- âœ… é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
- âœ… å“åº”å¼è®¾è®¡

### Props

```typescript
interface ExchangeSelectorProps {
  onExchangeChange?: (exchange: string, marketType: string) => void;
  className?: string;
}
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { ExchangeSelector } from '@/components/exchange/ExchangeSelector';

export default function TradingPage() {
  const handleExchangeChange = (exchange: string, marketType: string) => {
    console.log(`åˆ‡æ¢åˆ°: ${exchange} (${marketType})`);
    // åˆ·æ–°å¸‚åœºæ•°æ®ã€æ›´æ–°è®¢é˜…ç­‰
  };

  return (
    <div className="container">
      <ExchangeSelector 
        onExchangeChange={handleExchangeChange}
        className="mb-4"
      />
      
      {/* å…¶ä»–äº¤æ˜“ç»„ä»¶ */}
    </div>
  );
}
```

### APIé›†æˆ

```typescript
// è·å–å½“å‰æ¿€æ´»çš„äº¤æ˜“æ‰€
const response = await fetch('/api/v1/exchanges/active');
const { data } = await response.json();

// åˆ‡æ¢äº¤æ˜“æ‰€
const switchResponse = await fetch(
  `/api/v1/exchanges/switch?exchange_name=${exchange}&market_type=${marketType}`,
  { method: 'POST' }
);
```

### çŠ¶æ€ç®¡ç†

```typescript
const [activeExchange, setActiveExchange] = useState<string>('');
const [marketType, setMarketType] = useState<string>('');
const [isLoading, setIsLoading] = useState<boolean>(false);
const [error, setError] = useState<string | null>(null);
```

### UIå±•ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½“å‰äº¤æ˜“æ‰€                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Hyperliquidâ”‚  â”‚ æ°¸ç»­åˆçº¦ (perpetual)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  åˆ‡æ¢äº¤æ˜“æ‰€                              â”‚
â”‚  ( ) Binance     ( ) ç°è´§ (spot)        â”‚
â”‚  (â—) Hyperliquid (â—) åˆçº¦ (futures)     â”‚
â”‚                  ( ) æ°¸ç»­ (perpetual)   â”‚
â”‚                                         â”‚
â”‚  [  åˆ‡æ¢  ]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. MultiTimeframeChart ç»„ä»¶

å¤šæ—¶é—´å‘¨æœŸKçº¿å›¾è¡¨ç»„ä»¶,æ”¯æŒåŒæ—¶å±•ç¤ºå¤šä¸ªæ—¶é—´å‘¨æœŸçš„èµ°åŠ¿ã€‚

### æ–‡ä»¶ä½ç½®

```
frontend/app/components/charts/MultiTimeframeChart.tsx
```

### åŠŸèƒ½ç‰¹æ€§

- âœ… åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ—¶é—´å‘¨æœŸ (æœ€å¤š6ä¸ª)
- âœ… å“åº”å¼ç½‘æ ¼å¸ƒå±€
- âœ… å®æ—¶æ•°æ®æ›´æ–°
- âœ… äº¤äº’å¼å›¾è¡¨ (ç¼©æ”¾ã€å¹³ç§»)
- âœ… è¶‹åŠ¿æŒ‡ç¤ºå™¨
- âœ… åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†

### Props

```typescript
interface MultiTimeframeChartProps {
  symbol: string;                          // äº¤æ˜“å¯¹ç¬¦å·
  intervals?: string[];                    // æ—¶é—´å‘¨æœŸåˆ—è¡¨
  limit?: number;                          // Kçº¿æ•°é‡
  autoRefresh?: boolean;                   // è‡ªåŠ¨åˆ·æ–°
  refreshInterval?: number;                // åˆ·æ–°é—´éš”(æ¯«ç§’)
  className?: string;
}
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { MultiTimeframeChart } from '@/components/charts/MultiTimeframeChart';

export default function AnalysisPage() {
  return (
    <div className="container py-8">
      <h1 className="text-2xl font-bold mb-6">å¤šå‘¨æœŸåˆ†æ</h1>
      
      <MultiTimeframeChart
        symbol="BTC"
        intervals={['1m', '5m', '15m', '1h', '4h', '1d']}
        limit={100}
        autoRefresh={true}
        refreshInterval={30000}  // 30ç§’åˆ·æ–°
      />
    </div>
  );
}
```

### æ•°æ®è·å–

```typescript
const fetchMultiTimeframeData = async () => {
  const response = await fetch(
    `/api/v1/market/klines/multi?symbol=${symbol}&intervals=${intervals.join(',')}&limit=${limit}`
  );
  
  const { data } = await response.json();
  setChartData(data);
};
```

### å›¾è¡¨åº“

ä½¿ç”¨ **Recharts** æˆ– **Lightweight Charts** æ¸²æŸ“Kçº¿å›¾:

```tsx
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';

<ResponsiveContainer width="100%" height={300}>
  <LineChart data={klineData}>
    <XAxis dataKey="open_time" />
    <YAxis domain={['dataMin', 'dataMax']} />
    <Tooltip />
    <Line type="monotone" dataKey="close" stroke="#10b981" />
  </LineChart>
</ResponsiveContainer>
```

### ç½‘æ ¼å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BTC å¤šå‘¨æœŸåˆ†æ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1åˆ†é’Ÿ ğŸ“ˆ          â”‚  5åˆ†é’Ÿ ğŸ“ˆ          â”‚ 15åˆ†é’Ÿ ğŸ“Šâ”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Kçº¿å›¾        â”‚ â”‚  â”‚ Kçº¿å›¾        â”‚ â”‚ â”‚ Kçº¿å›¾â”‚â”‚
â”‚  â”‚              â”‚ â”‚  â”‚              â”‚ â”‚ â”‚      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1å°æ—¶ ğŸ“ˆ          â”‚  4å°æ—¶ ğŸ“Š          â”‚ 1å¤© ğŸ“‰  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Kçº¿å›¾        â”‚ â”‚  â”‚ Kçº¿å›¾        â”‚ â”‚ â”‚ Kçº¿å›¾â”‚â”‚
â”‚  â”‚              â”‚ â”‚  â”‚              â”‚ â”‚ â”‚      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ExchangeManagementPage ç»„ä»¶

äº¤æ˜“æ‰€ç®¡ç†é¡µé¢,æä¾›å®Œæ•´çš„CRUDæ“ä½œç•Œé¢ã€‚

### æ–‡ä»¶ä½ç½®

```
frontend/app/admin/exchanges/page.tsx
```

### åŠŸèƒ½ç‰¹æ€§

- âœ… äº¤æ˜“æ‰€åˆ—è¡¨å±•ç¤º
- âœ… æ¿€æ´»çŠ¶æ€æ ‡è¯†
- âœ… åˆ›å»ºæ–°é…ç½®
- âœ… ç¼–è¾‘é…ç½®
- âœ… åˆ é™¤é…ç½®
- âœ… äº¤æ˜“æ‰€åˆ‡æ¢
- âœ… æ•°æ®è¡¨æ ¼ (æ’åºã€ç­›é€‰)

### é¡µé¢ç»“æ„

```tsx
export default function ExchangesPage() {
  const [exchanges, setExchanges] = useState<Exchange[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    fetchExchanges();
  }, []);

  return (
    <div className="container mx-auto py-8">
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-3xl font-bold">äº¤æ˜“æ‰€ç®¡ç†</h1>
        <Button onClick={() => setShowCreateModal(true)}>
          æ–°å¢äº¤æ˜“æ‰€
        </Button>
      </div>

      <ExchangesTable 
        data={exchanges}
        onEdit={handleEdit}
        onDelete={handleDelete}
        onSwitch={handleSwitch}
      />

      {showCreateModal && (
        <CreateExchangeModal 
          onClose={() => setShowCreateModal(false)}
          onSuccess={fetchExchanges}
        />
      )}
    </div>
  );
}
```

### æ•°æ®è¡¨æ ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº¤æ˜“æ‰€ç®¡ç†                                        [+ æ–°å¢äº¤æ˜“æ‰€]     â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID â”‚ äº¤æ˜“æ‰€       â”‚ çŠ¶æ€    â”‚ å¸‚åœºç±»å‹   â”‚ æµ‹è¯•ç½‘   â”‚ æ“ä½œ         â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ Hyperliquid  â”‚ âœ… æ¿€æ´» â”‚ perpetual  â”‚ å¦       â”‚ [ç¼–è¾‘][åˆ é™¤] â”‚
â”‚ 2  â”‚ Binance      â”‚ â­• æœªæ¿€æ´»â”‚ spot       â”‚ å¦       â”‚ [åˆ‡æ¢][ç¼–è¾‘] â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### APIé›†æˆ

```typescript
// è·å–æ‰€æœ‰äº¤æ˜“æ‰€
const fetchExchanges = async () => {
  const response = await fetch('/api/v1/exchanges');
  const { data } = await response.json();
  setExchanges(data);
};

// åˆ‡æ¢äº¤æ˜“æ‰€
const handleSwitch = async (exchangeId: number) => {
  const exchange = exchanges.find(e => e.id === exchangeId);
  
  const response = await fetch(
    `/api/v1/exchanges/switch?exchange_name=${exchange.name}&market_type=${exchange.market_type}`,
    { method: 'POST' }
  );
  
  if (response.ok) {
    toast.success('åˆ‡æ¢æˆåŠŸ!');
    fetchExchanges();  // åˆ·æ–°åˆ—è¡¨
  }
};

// åˆ é™¤é…ç½®
const handleDelete = async (exchangeId: number) => {
  const confirmed = confirm('ç¡®å®šåˆ é™¤æ­¤é…ç½®?');
  if (!confirmed) return;
  
  const response = await fetch(`/api/v1/exchanges/${exchangeId}`, {
    method: 'DELETE'
  });
  
  if (response.ok) {
    toast.success('åˆ é™¤æˆåŠŸ!');
    fetchExchanges();
  }
};
```

---

## å¯¼èˆªé›†æˆ

åœ¨ `frontend/app/admin/layout.tsx` ä¸­æ·»åŠ å¯¼èˆªé“¾æ¥:

```tsx
const navItems = [
  { name: "æ¦‚è§ˆ", path: "/admin" },
  { name: "äº¤æ˜“æ‰€ç®¡ç†", path: "/admin/exchanges" },  // âœ¨ æ–°å¢
  { name: "æƒ…æŠ¥ç³»ç»Ÿ", path: "/admin/intelligence" },
  { name: "è®°å¿†ç³»ç»Ÿ", path: "/admin/memory" },
  // ... å…¶ä»–èœå•é¡¹
];

export default function AdminLayout({ children }) {
  return (
    <div className="flex min-h-screen">
      <aside className="w-64 bg-gray-900">
        <nav>
          {navItems.map(item => (
            <Link
              key={item.path}
              href={item.path}
              className="block px-4 py-2 hover:bg-gray-800"
            >
              {item.name}
            </Link>
          ))}
        </nav>
      </aside>
      
      <main className="flex-1 p-8">
        {children}
      </main>
    </div>
  );
}
```

---

## æ ·å¼è®¾è®¡

### Tailwindé…ç½®

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        // äº¤æ˜“æ‰€å“ç‰Œè‰²
        binance: '#F3BA2F',
        hyperliquid: '#6366F1',
      },
      animation: {
        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
      }
    }
  }
}
```

### ç»„ä»¶æ ·å¼

```tsx
// æ¿€æ´»çŠ¶æ€å¾½ç« 
<Badge 
  variant={exchange.is_active ? 'success' : 'secondary'}
  className="font-semibold"
>
  {exchange.is_active ? 'âœ… æ¿€æ´»' : 'â­• æœªæ¿€æ´»'}
</Badge>

// äº¤æ˜“æ‰€å›¾æ ‡
<div className="flex items-center gap-2">
  {exchange.name === 'binance' && (
    <div className="w-8 h-8 rounded-full bg-binance" />
  )}
  {exchange.name === 'hyperliquid' && (
    <div className="w-8 h-8 rounded-full bg-hyperliquid" />
  )}
  <span>{exchange.display_name}</span>
</div>
```

---

## çŠ¶æ€ç®¡ç†

### Context API

```tsx
// contexts/ExchangeContext.tsx
export const ExchangeContext = createContext<ExchangeContextType>({
  activeExchange: null,
  exchanges: [],
  isLoading: false,
  error: null,
  refreshExchanges: async () => {},
  switchExchange: async (name, type) => {},
});

export function ExchangeProvider({ children }: { children: ReactNode }) {
  const [activeExchange, setActiveExchange] = useState<Exchange | null>(null);
  const [exchanges, setExchanges] = useState<Exchange[]>([]);

  // ... å®ç°é€»è¾‘

  return (
    <ExchangeContext.Provider value={value}>
      {children}
    </ExchangeContext.Provider>
  );
}

// ä½¿ç”¨
const { activeExchange, switchExchange } = useContext(ExchangeContext);
```

---

## é”™è¯¯å¤„ç†

```tsx
// ç»Ÿä¸€é”™è¯¯å¤„ç†
const handleApiError = (error: any) => {
  if (error.response?.status === 404) {
    toast.error('äº¤æ˜“æ‰€é…ç½®ä¸å­˜åœ¨');
  } else if (error.response?.status === 400) {
    toast.error(error.response.data.detail || 'è¯·æ±‚å‚æ•°é”™è¯¯');
  } else if (error.response?.status === 500) {
    toast.error('æœåŠ¡å™¨é”™è¯¯,è¯·ç¨åé‡è¯•');
  } else {
    toast.error('ç½‘ç»œé”™è¯¯,è¯·æ£€æŸ¥è¿æ¥');
  }
};

// ä½¿ç”¨
try {
  await switchExchange(name, type);
  toast.success('åˆ‡æ¢æˆåŠŸ!');
} catch (error) {
  handleApiError(error);
}
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. React.memo

```tsx
export const ExchangeSelector = React.memo(function ExchangeSelector({
  onExchangeChange,
  className
}: ExchangeSelectorProps) {
  // ... ç»„ä»¶é€»è¾‘
});
```

### 2. useMemo / useCallback

```tsx
const sortedExchanges = useMemo(() => {
  return exchanges.sort((a, b) => 
    a.is_active ? -1 : 1
  );
}, [exchanges]);

const handleSwitch = useCallback(async (id: number) => {
  // ... åˆ‡æ¢é€»è¾‘
}, [exchanges]);
```

### 3. æ‡’åŠ è½½

```tsx
const MultiTimeframeChart = lazy(() => 
  import('@/components/charts/MultiTimeframeChart')
);

<Suspense fallback={<LoadingSpinner />}>
  <MultiTimeframeChart symbol="BTC" />
</Suspense>
```

---

## æµ‹è¯•

### å•å…ƒæµ‹è¯• (Jest + React Testing Library)

```tsx
// ExchangeSelector.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { ExchangeSelector } from './ExchangeSelector';

describe('ExchangeSelector', () => {
  it('should render current exchange', async () => {
    render(<ExchangeSelector />);
    
    await waitFor(() => {
      expect(screen.getByText('Hyperliquid')).toBeInTheDocument();
    });
  });

  it('should switch exchange on button click', async () => {
    const onChangeMock = jest.fn();
    render(<ExchangeSelector onExchangeChange={onChangeMock} />);
    
    const switchButton = screen.getByRole('button', { name: /åˆ‡æ¢/i });
    fireEvent.click(switchButton);
    
    await waitFor(() => {
      expect(onChangeMock).toHaveBeenCalledWith('binance', 'spot');
    });
  });
});
```

---

## ç›¸å…³æ–‡æ¡£

- [APIæ¥å£æ–‡æ¡£ - äº¤æ˜“æ‰€ç®¡ç†](../09-APIæ¥å£æ–‡æ¡£/äº¤æ˜“æ‰€ç®¡ç†API.md)
- [å‰ç«¯åŠŸèƒ½æ¨¡å—è¯´æ˜](./01-åŠŸèƒ½æ¨¡å—è¯´æ˜.md)
- [æŠ€æœ¯æ¶æ„ - å¤šäº¤æ˜“æ‰€é›†æˆ](../03-æŠ€æœ¯æ¶æ„/07-å¤šäº¤æ˜“æ‰€é›†æˆæ¶æ„.md)

---

## æ›´æ–°è®°å½•

- **2025-11-05**: v3.1 æ–°å¢
  - ExchangeSelector ç»„ä»¶
  - MultiTimeframeChart ç»„ä»¶
  - ExchangeManagementPage é¡µé¢
  - Adminå¯¼èˆªèœå•é›†æˆ

