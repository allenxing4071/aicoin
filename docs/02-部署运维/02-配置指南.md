# âš™ï¸ AIcoin é…ç½®æŒ‡å—

> **å®Œæ•´é…ç½®è¯´æ˜** | ç¯å¢ƒå˜é‡ | API é…ç½® | æƒé™é…ç½®

---

## ğŸ“‹ ç›®å½•

1. [ç¯å¢ƒå˜é‡é…ç½®](#1-ç¯å¢ƒå˜é‡é…ç½®)
2. [AI å¹³å°é…ç½®](#2-ai-å¹³å°é…ç½®)
3. [äº¤æ˜“æ‰€é…ç½®](#3-äº¤æ˜“æ‰€é…ç½®)
4. [æƒé™ç­‰çº§é…ç½®](#4-æƒé™ç­‰çº§é…ç½®)
5. [é«˜çº§é…ç½®](#5-é«˜çº§é…ç½®)

---

## 1. ç¯å¢ƒå˜é‡é…ç½®

### 1.1 å®Œæ•´ .env æ¨¡æ¿

```bash
# ========== AI å¹³å°é…ç½® ==========
DEEPSEEK_API_KEY=sk-your-deepseek-key
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# å¯é€‰: Qwen æƒ…æŠ¥ç³»ç»Ÿ
QWEN_API_KEY=sk-your-qwen-key
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL=qwen-plus

# å¯é€‰: å¤‡ç”¨ AI å¹³å°
DOUBAO_API_KEY=your-doubao-key
CLAUDE_API_KEY=your-claude-key

# ========== äº¤æ˜“æ‰€é…ç½® ==========
HYPERLIQUID_WALLET_ADDRESS=0xYourWalletAddress
HYPERLIQUID_PRIVATE_KEY=0xYourPrivateKey
HYPERLIQUID_TESTNET=true  # true=æµ‹è¯•ç½‘, false=ä¸»ç½‘
HYPERLIQUID_BASE_URL=https://api.hyperliquid.xyz

# ========== æ•°æ®åº“é…ç½® ==========
POSTGRES_USER=aicoin
POSTGRES_PASSWORD=your-strong-password-here
POSTGRES_DB=aicoin
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ========== Redis é…ç½® ==========
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # å¯é€‰
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ========== Qdrant é…ç½® ==========
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_URL=http://${QDRANT_HOST}:${QDRANT_PORT}
QDRANT_API_KEY=  # å¯é€‰

# ========== å®‰å…¨é…ç½® ==========
SECRET_KEY=your-secret-key-min-32-chars-random-string
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ========== åº”ç”¨é…ç½® ==========
ENVIRONMENT=production  # development / production
DEBUG=false
LOG_LEVEL=INFO  # DEBUG / INFO / WARNING / ERROR
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# ========== æƒé™é…ç½® ==========
DEFAULT_PERMISSION_LEVEL=L1
ENABLE_AUTO_UPGRADE=true
ENABLE_AUTO_DOWNGRADE=true

# ========== é£æ§é…ç½® ==========
MAX_POSITION_PCT=0.10  # å•ä»“ä½æœ€å¤§ 10%
MAX_LEVERAGE=2  # æœ€å¤§æ æ† 2x
MAX_DAILY_LOSS_PCT=0.05  # å•æ—¥æœ€å¤§äºæŸ 5%
MAX_DRAWDOWN_PCT=0.15  # æœ€å¤§å›æ’¤ 15%
MIN_MARGIN_RATIO=0.20  # æœ€ä½ä¿è¯é‡‘ç‡ 20%

# ========== äº¤æ˜“é…ç½® ==========
ENABLE_TRADING=true
ENABLE_DEBATE_SYSTEM=false  # è¾©è®ºç³»ç»Ÿ (å¯é€‰)
ENABLE_INTELLIGENCE_SYSTEM=false  # æƒ…æŠ¥ç³»ç»Ÿ (å¯é€‰)
DEFAULT_STOP_LOSS_PCT=0.03  # é»˜è®¤æ­¢æŸ 3%
DEFAULT_TAKE_PROFIT_PCT=0.05  # é»˜è®¤æ­¢ç›ˆ 5%

# ========== ç›‘æ§é…ç½® ==========
ENABLE_MONITORING=true
ALERT_EMAIL=your-email@example.com
ALERT_WEBHOOK=https://your-webhook-url

# ========== å‰ç«¯é…ç½® ==========
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000
```

### 1.2 ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `DEEPSEEK_API_KEY` | âœ… | - | DeepSeek API å¯†é’¥ |
| `HYPERLIQUID_WALLET_ADDRESS` | âœ… | - | Hyperliquid é’±åŒ…åœ°å€ |
| `HYPERLIQUID_PRIVATE_KEY` | âœ… | - | Hyperliquid ç§é’¥ |
| `SECRET_KEY` | âœ… | - | åº”ç”¨å¯†é’¥ (â‰¥32å­—ç¬¦) |
| `DATABASE_URL` | âœ… | - | æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸² |
| `REDIS_URL` | âœ… | - | Redis è¿æ¥å­—ç¬¦ä¸² |
| `QWEN_API_KEY` | âš ï¸ | - | Qwen API (æƒ…æŠ¥ç³»ç»Ÿéœ€è¦) |
| `ENABLE_TRADING` | âŒ | true | æ˜¯å¦å¯ç”¨äº¤æ˜“ |
| `MAX_LEVERAGE` | âŒ | 2 | æœ€å¤§æ æ†å€æ•° |

---

## 2. AI å¹³å°é…ç½®

### 2.1 DeepSeek (ä¸»è¦å†³ç­–)

**è·å– API Key**:
1. è®¿é—® https://platform.deepseek.com
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ API Keys é¡µé¢
4. åˆ›å»ºæ–°å¯†é’¥

**é…ç½®**:
```bash
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxx
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
```

**è´¹ç”¨**:
- è¾“å…¥: $0.27/ç™¾ä¸‡ tokens
- è¾“å‡º: $1.10/ç™¾ä¸‡ tokens
- é¢„ä¼°: $10-50/æœˆ (å–å†³äºäº¤æ˜“é¢‘ç‡)

**é™åˆ¶**:
- é€Ÿç‡é™åˆ¶: 60 è¯·æ±‚/åˆ†é’Ÿ
- ä¸Šä¸‹æ–‡é•¿åº¦: 32K tokens

---

### 2.2 Qwen (æƒ…æŠ¥ç³»ç»Ÿ)

**è·å– API Key**:
1. è®¿é—® https://dashscope.aliyun.com
2. æ³¨å†Œé˜¿é‡Œäº‘è´¦å·
3. å¼€é€š DashScope æœåŠ¡
4. åˆ›å»º API Key

**é…ç½®**:
```bash
QWEN_API_KEY=sk-xxxxxxxxxxxxxxxx
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL=qwen-plus
ENABLE_INTELLIGENCE_SYSTEM=true
```

**è´¹ç”¨**:
- Qwen-Plus: Â¥0.004/åƒ tokens
- é¢„ä¼°: Â¥20-100/æœˆ

---

### 2.3 äº‘å¹³å°é…ç½®å¿«é€Ÿå‚è€ƒ

| å¹³å° | æ¨èåº¦ | éš¾åº¦ | æˆæœ¬ | å…è´¹é¢åº¦ |
|------|--------|------|------|---------|
| **DeepSeek** | â­â­â­â­â­ | ç®€å• | ä½ | $5 |
| **Qwen** | â­â­â­â­ | ç®€å• | ä½ | Â¥100 |
| **Doubao** | â­â­â­ | ä¸­ç­‰ | ä¸­ | Â¥50 |
| **Claude** | â­â­â­â­ | ç®€å• | é«˜ | $5 |

---

## 3. äº¤æ˜“æ‰€é…ç½®

### 3.1 Hyperliquid é…ç½®

**è·å–é’±åŒ…ä¿¡æ¯**:
1. å®‰è£… MetaMask æˆ–å…¶ä»– EVM é’±åŒ…
2. åˆ›å»ºæ–°é’±åŒ…æˆ–å¯¼å…¥ç°æœ‰é’±åŒ…
3. è·å–é’±åŒ…åœ°å€å’Œç§é’¥
4. è®¿é—® Hyperliquid æµ‹è¯•ç½‘: https://app.hyperliquid-testnet.xyz

**æµ‹è¯•ç½‘é…ç½®**:
```bash
HYPERLIQUID_TESTNET=true
HYPERLIQUID_WALLET_ADDRESS=0xYourTestnetAddress
HYPERLIQUID_PRIVATE_KEY=0xYourTestnetPrivateKey
HYPERLIQUID_BASE_URL=https://api.hyperliquid-testnet.xyz
```

**ä¸»ç½‘é…ç½®**:
```bash
HYPERLIQUID_TESTNET=false
HYPERLIQUID_WALLET_ADDRESS=0xYourMainnetAddress
HYPERLIQUID_PRIVATE_KEY=0xYourMainnetPrivateKey
HYPERLIQUID_BASE_URL=https://api.hyperliquid.xyz
```

**å®‰å…¨å»ºè®®**:
- âš ï¸ ç§é’¥åŠ å¯†å­˜å‚¨
- âš ï¸ ä½¿ç”¨ä¸“ç”¨äº¤æ˜“é’±åŒ…
- âš ï¸ å®šæœŸæ›´æ¢ç§é’¥
- âš ï¸ å¯ç”¨ IP ç™½åå•

---

### 3.2 Binance é…ç½® (æœªæ¥æ”¯æŒ)

**è·å– API Key**:
1. ç™»å½• Binance
2. è¿›å…¥ API ç®¡ç†
3. åˆ›å»ºæ–° API Key
4. è®¾ç½®æƒé™: è¯»å– + ç°è´§äº¤æ˜“

**é…ç½®**:
```bash
BINANCE_API_KEY=your-api-key
BINANCE_API_SECRET=your-api-secret
BINANCE_TESTNET=true
```

---

## 4. æƒé™ç­‰çº§é…ç½®

### 4.1 é»˜è®¤æƒé™é…ç½®

**åˆå§‹åŒ–é»˜è®¤é…ç½®**:
```bash
# æ–¹å¼ä¸€: API åˆå§‹åŒ–
curl -X POST http://localhost:8000/api/v1/admin/permissions/levels/init-defaults

# æ–¹å¼äºŒ: æ•°æ®åº“è¿ç§»è‡ªåŠ¨åˆå§‹åŒ–
cd backend && alembic upgrade head
```

**é»˜è®¤é…ç½®**:
```json
{
  "L0": {
    "max_position_pct": 0.0,
    "max_leverage": 1,
    "confidence_threshold": 1.0,
    "max_daily_trades": 0
  },
  "L1": {
    "max_position_pct": 0.10,
    "max_leverage": 2,
    "confidence_threshold": 0.80,
    "max_daily_trades": 1
  },
  "L2": {
    "max_position_pct": 0.12,
    "max_leverage": 2,
    "confidence_threshold": 0.75,
    "max_daily_trades": 2
  },
  "L3": {
    "max_position_pct": 0.15,
    "max_leverage": 3,
    "confidence_threshold": 0.70,
    "max_daily_trades": 4
  },
  "L4": {
    "max_position_pct": 0.20,
    "max_leverage": 4,
    "confidence_threshold": 0.65,
    "max_daily_trades": 6
  },
  "L5": {
    "max_position_pct": 0.25,
    "max_leverage": 5,
    "confidence_threshold": 0.60,
    "max_daily_trades": 999
  }
}
```

### 4.2 è‡ªå®šä¹‰æƒé™é…ç½®

**é€šè¿‡ API ä¿®æ”¹**:
```bash
# ä¿®æ”¹ L1 é…ç½®
curl -X PUT http://localhost:8000/api/v1/admin/permissions/levels/L1 \
  -H "Content-Type: application/json" \
  -d '{
    "trading_params": {
      "max_position_pct": 0.08,
      "confidence_threshold": 0.75,
      "max_daily_trades": 2
    }
  }'
```

**é€šè¿‡å‰ç«¯ä¿®æ”¹**:
1. è®¿é—® http://localhost:3000/admin/permissions
2. é€‰æ‹©æƒé™ç­‰çº§
3. ç‚¹å‡»"ç¼–è¾‘"
4. ä¿®æ”¹å‚æ•°
5. ä¿å­˜

---

## 5. é«˜çº§é…ç½®

### 5.1 æ—¥å¿—é…ç½®

```bash
# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO  # DEBUG / INFO / WARNING / ERROR / CRITICAL

# æ—¥å¿—æ–‡ä»¶
LOG_FILE=/app/logs/aicoin.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
```

**æ—¥å¿—çº§åˆ«è¯´æ˜**:
- `DEBUG`: è¯¦ç»†è°ƒè¯•ä¿¡æ¯ (å¼€å‘ç¯å¢ƒ)
- `INFO`: å¸¸è§„ä¿¡æ¯ (ç”Ÿäº§ç¯å¢ƒæ¨è)
- `WARNING`: è­¦å‘Šä¿¡æ¯
- `ERROR`: é”™è¯¯ä¿¡æ¯
- `CRITICAL`: ä¸¥é‡é”™è¯¯

---

### 5.2 æ€§èƒ½é…ç½®

```bash
# æ•°æ®åº“è¿æ¥æ± 
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Redis è¿æ¥æ± 
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=10

# API é™æµ
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
```

---

### 5.3 ç›‘æ§å‘Šè­¦é…ç½®

```bash
# å¯ç”¨ç›‘æ§
ENABLE_MONITORING=true

# é‚®ä»¶å‘Šè­¦
ALERT_EMAIL=your-email@example.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Webhook å‘Šè­¦
ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# å‘Šè­¦é˜ˆå€¼
ALERT_MAX_DRAWDOWN=0.10  # å›æ’¤ â‰¥ 10% å‘Šè­¦
ALERT_DAILY_LOSS=0.05    # å•æ—¥äºæŸ â‰¥ 5% å‘Šè­¦
ALERT_CONSECUTIVE_LOSS=3  # è¿ç»­ 3 æ¬¡äºæŸå‘Šè­¦
```

---

### 5.4 è¾©è®ºç³»ç»Ÿé…ç½®

```bash
# å¯ç”¨è¾©è®ºç³»ç»Ÿ
ENABLE_DEBATE_SYSTEM=true

# è¾©è®ºé…ç½®
DEBATE_ROUNDS=2  # è¾©è®ºè½®æ•° (1-5)
DEBATE_MEMORY_TOP_K=5  # æ£€ç´¢å†å²è¾©è®ºæ•°é‡
DEBATE_MIN_CONFIDENCE=0.70  # æœ€ä½ç½®ä¿¡åº¦

# è§’è‰²é…ç½®
BULL_ANALYST_MODEL=deepseek-chat
BEAR_ANALYST_MODEL=deepseek-chat
RESEARCH_MANAGER_MODEL=deepseek-chat
```

---

### 5.5 æƒ…æŠ¥ç³»ç»Ÿé…ç½®

```bash
# å¯ç”¨æƒ…æŠ¥ç³»ç»Ÿ
ENABLE_INTELLIGENCE_SYSTEM=true

# æƒ…æŠ¥æº
ENABLE_NEWS_SOURCE=true
ENABLE_SOCIAL_SOURCE=true
ENABLE_ONCHAIN_SOURCE=false

# æ›´æ–°é¢‘ç‡
INTELLIGENCE_UPDATE_INTERVAL=30  # åˆ†é’Ÿ

# Qwen é…ç½®
QWEN_API_KEY=sk-your-qwen-key
QWEN_MODEL=qwen-plus
```

---

## ğŸ“Š é…ç½®æ£€æŸ¥æ¸…å•

### å¿…éœ€é…ç½®
- [ ] DeepSeek API Key
- [ ] Hyperliquid é’±åŒ…åœ°å€
- [ ] Hyperliquid ç§é’¥
- [ ] SECRET_KEY (â‰¥32å­—ç¬¦)
- [ ] JWT_SECRET_KEY (â‰¥32å­—ç¬¦)
- [ ] æ•°æ®åº“å¯†ç 

### æ¨èé…ç½®
- [ ] LOG_LEVEL è®¾ç½®ä¸º INFO
- [ ] å¯ç”¨ç›‘æ§å‘Šè­¦
- [ ] é…ç½®é‚®ä»¶/Webhook
- [ ] è®¾ç½®åˆç†çš„é£æ§å‚æ•°

### å¯é€‰é…ç½®
- [ ] Qwen API (æƒ…æŠ¥ç³»ç»Ÿ)
- [ ] è¾©è®ºç³»ç»Ÿ
- [ ] HTTPS è¯ä¹¦
- [ ] Nginx åå‘ä»£ç†

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿéƒ¨ç½²](./01-å¿«é€Ÿéƒ¨ç½².md) - éƒ¨ç½²æŒ‡å—
- [è¿ç»´æ“ä½œ](./03-è¿ç»´æ“ä½œ.md) - æ—¥å¸¸è¿ç»´
- [æ•…éšœæ’æŸ¥](./04-æ•…éšœæ’æŸ¥.md) - é—®é¢˜è¯Šæ–­

---

**æ–‡æ¡£ç»´æŠ¤**: AIcoin Team  
**æœ€åæ›´æ–°**: 2025-11-15  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0

